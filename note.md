# Malloc_lab - Segregated ver.
크래프톤 정글 7주차 malloc_lab 과제의 분리 가용 리스트Segregated Free List 버전입니다.

너무 급하게 얼랑뚱땅 만든 감이 있긴 합니다. 감안하고 봐주세요.

분리 가용 리스트의 특징은 포인터 배열을 원소인 각각의 포인터가 가용 리스트가 되고, 각 가용 리스트는 특정 범위의 사이즈를 가지는 가용 블럭을 관리합니다.

우선적으로 할 작업은 배열 포인터를 만들고, 각 인덱스에 어떤 크기의 블럭을 넣을 지 고민하는 겁니다.
저는 static int free_listp_index(size_t size)라는 함수를 만들어서 각 인덱스의 리스트 포인터에서 관리할 블록의 사이즈를 분류하는 함수를 만들었습니다.
최소 크기(MIN_BSIZE)의 가용 블록이 free_listp[0]에서 관리될 수 있게끔 만들었습니다.
인덱스의 최댓값은 max_index 상수를 통해서 정해지고 2^(max_index-1)*MIN_BSIZE 이상의 값들은 free_listp[max_index - 1]에서 관리됩니다.(정확하지 않습니다. 코드를 봐주세요)

init 함수를 호출하면 배열의 각 포인터를 NULL로 초기화합니다.

find fit에서는 배열의 모든 포인터를 확인해야 합니다. 특정 하나의 리스트만 확인해서는 안 됩니다.
예를 들어 first fit 실행 시, 특정 사이즈의 블록들을 관리하는 리스트에서 사용 가능한 가용 블록이 하나도 없다면 더 큰 사이즈의 블록들을 관리하는 리스트를 살펴봐야 합니다.

free list의 insert 및 delete 과정의 경우 해당 블럭의 size를 고려하여 어떤 인덱스에 해당하는 포인터 리스트에서 해당 블록을 관리할건지 정해야 합니다.
free_listp_index(size) 함수를 사용하여 결정합니다.

코드에는 테스트 케이스에 맞게 util 효율을 높여줄 꼼수 코드가 들어가 있습니다. 중요한 게 아니니 의미 없어보이는 코드가 들어있으면 그런 용도라고 생각하고 넘어가 주세요.

realloc 성능을 끌어올리기 위해서 좀 과하게 초과 할당을 하게 했는데 기존 사이즈에서 10배를 할당한 경우가 제일 높은 점수가 나왔습니다. 
그러나 이건 특정 케이스에서 효과를 본 거고 일반적인 경우에는 오히려 메모리 효율을 낮출 수 있습니다.(사실 그럴 가능성이 훨씬 높습니다.)
